<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Bikedata - collisions, traffic counts, cycle theft, cycleability ratings, photos, and more</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-title" content="Bikedata" />
	<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png">
	
	<link rel="stylesheet" href="/js/lib/mapbox-gl/dist/mapbox-gl.css" />
	<script src="/js/lib/mapbox-gl/dist/mapbox-gl.js"></script>
	
	<script src="/js/lib/jquery/dist/jquery.min.js"></script>
	
	<script src="/js/lib/jquery-ui-dist/jquery-ui.min.js"></script>
	
	<script src="/js/lib/@benmajor/jquery-touch-events/src/jquery.mobile-events.min.js"></script>
	
	<script src="/js/lib/@hughsk/fulltilt/dist/fulltilt.min.js"></script>
	
	<script src="/js/lib/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js"></script>
	<link rel="stylesheet" href="/js/lib/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css" />
	
	<script src="/js/lib/js-cookie/src/js.cookie.js"></script>
	
	<!-- Vex dialogs; see: https://github.hubspot.com/vex/ -->
	<script src="/js/lib/vex-js/dist/js/vex.combined.min.js"></script>
	<link rel="stylesheet" href="/js/lib/vex-js/dist/css/vex.css" />
	<link rel="stylesheet" href="/js/lib/vex-js/dist/css/vex-theme-plain.css" />
	
	<!-- GeoJSON parser for flat JSON; see: https://www.npmjs.com/package/geojson -->
	<script src="/js/lib/geojson/geojson.min.js"></script>
	
	<!-- GeoJSON extent library; see: https://github.com/mapbox/geojson-extent -->
	<script src="/js/lib/@mapbox/geojson-extent/geojson-extent.js"></script>
	
	<!-- OSM to GeoJSON library -->
	<script src="/js/lib/osmtogeojson/osmtogeojson.js"></script>
	
	<!-- KML/etc. to GeoJSON library; see: https://github.com/placemark/togeojson forked from @mapbox/togeojson at https://github.com/mapbox/togeojson -->
	<script src="/js/lib/@tmcw/togeojson/dist/togeojson.umd.js"></script>
	
	<!-- LayerViewer library, providing the application logic -->
	<script src="/js/lib/Mapboxgljs.LayerViewer/src/layerviewer.js?220605"></script>
	<link rel="stylesheet" type="text/css" href="/js/lib/Mapboxgljs.LayerViewer/src/layerviewer.css?210627" />
	<script src="/js/lib/Mapboxgljs.LayerViewer/lib/geocoder.js"></script>
	
	<!-- Bikedata application and its config, implementing the LayerViewer library -->
	<script src="/.config.js"></script>
	<script src="/src/bikedata.js?220914"></script>
	<link href="/src/bikedata.css" rel="stylesheet" type="text/css" />
	<script>
		$(function() {
			bikedata.initialise (config);
		});
	</script>
<body>

	<div id="globalsites">
		<p>CycleStreets network:</p>
		<ul>
			<li class="cyclestreets"><a href="https://www.cyclestreets.net/" title="Cycle journey planner">Cycle journey planner</a></li>
			<li class="widenmypath"><a href="https://www.widenmypath.com/" title="Space for walking and cycling under COVID-19">Widen My Path</a></li>
			<li class="streetfocus"><a href="https://www.streetfocus.uk/" title="Planning applications UK-wide">StreetFocus</a></li>
			<li class="bikedata selected"><a href="https://bikedata.cyclestreets.net/" title="Data for cycle campaigning">Bikedata</a></li>
			<li class="lowtrafficneighbourhoods"><a href="https://www.lowtrafficneighbourhoods.org/" title="Low-Traffic Neighbourhoods">LTNs</a></li>
			<li class="cyclescape"><a href="https://www.cyclescape.org/" title="Campaign toolkit">Cyclescape</a></li>
			<li class="blog"><a href="https://www.cyclestreets.org/" title="About CycleStreets">About us</a></li>
		</ul>
	</div>
	
	<main>
		
		<form id="data">
		
			<nav>
				
				<div id="selector">
					<ul>
						<li class="collisions">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_collisions" />
							<a href="#collisions" title="Collisions" class="tooltip"><img src="/images/icons/icon_collision_slight.svg" alt="" /><br />Collisions</a>
						</li>
						<li class="collisionsheatmap">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_collisionsheatmap" />
							<a href="#collisionsheatmap" title="Collisions heatmap" class="tooltip"><img src="/images/icons/icon_collision_slight.svg" alt="" /><br />Collisions heatmap</a>
						</li>
						<li class="trafficcounts">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_trafficcounts" />
							<a href="#trafficcounts" title="Traffic data" class="tooltip"><img src="/images/icons/icon_congestion_bad.svg" alt="" /><br />Traffic counts</a>
						</li>
						<li class="photomap">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_photomap" />
							<a href="#photomap" title="Cycle infrastructure photomap" class="tooltip"><img src="/images/icons/icon_other_neutral.svg" alt="" /><br />Photos</a>
						</li>
						<li class="cycleability">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_cycleability" />
							<a href="#cycleability" title="Cycleability ratings layer" class="tooltip"><img src="/images/icons/bicycles_neutral.svg" alt="" /><br />Cycleability ratings</a>
						</li>
						<li class="planningapplications">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_planningapplications" />
							<a href="#planningapplications" title="Planning applications" class="tooltip"><img src="/images/icons/signs_neutral.svg" alt="" /><br />Planning applications</a>
						</li>
						<li class="modalfilters">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_modalfilters" />
							<a href="#modalfilters" title="Modal filters" class="tooltip"><img src="/images/icons/closure_good.svg" alt="" /><br />Modal filters</a>
						</li>
						<li class="ltns">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_ltns" />
							<a href="#ltns" title="LTNs" class="tooltip"><img src="/images/icons/congestion_neutral.svg" alt="" /><br />LTNs</a>
						</li>
						<li class="ltnstatistics">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_ltnstatistics" />
							<a href="#ltnstatistics" title="LTN statistics" class="tooltip"><img src="/images/icons/signs_bad.svg" alt="" /><br />LTN statistics</a>
						</li>
						<li class="bikeshare">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_bikeshare" />
							<a href="#bikeshare" title="Bikeshare" class="tooltip"><img src="/images/icons/bicycles_good.svg" alt="" /><br />Bikeshare</a>
						</li>
						<!--
						<li class="pollingstations">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_pollingstations" />
							<a href="#pollingstations" title="Polling stations" class="tooltip"><img src="/images/icons/bicycles_good.svg" alt="" /><br />Polling stations</a>
						</li>
						-->
						<li class="popupcyclewaylocations">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_popupcyclewaylocations" />
							<a href="#popupcyclewaylocations" title="Popup cycleway locations" class="tooltip"><img src="/images/icons/roadworks_good.svg" alt="" /><br />Popup cycleway locations</a>
						</li>
						<li class="popupcycleways">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_popupcycleways" />
							<a href="#popupcycleways" title="Popup cycleways" class="tooltip"><img src="/images/icons/roadworks_good.svg" alt="" /><br />Popup cycleway suggestions</a>
						</li>
						<li class="widths">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_widths" />
							<a href="#widths" title="Ride widths" class="tooltip"><img src="/images/icons/cycleways_neutral.svg" alt="" /><br />Road/path widths</a>
						</li>
						<!--
						<li class="cyclingrates unavailable">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_cyclingrates" />
							<a href="#cyclingrates" title="Cycling rates" class="tooltip"><img src="/images/icons/icon_bicycles_good.svg" alt="" /><br />Cycling rates</a>
						</li>
						-->
						<li class="triplengths">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_triplengths" />
							<a href="#triplengths" title="Distance data" class="tooltip"><img src="/images/icons/icon_linked_points_good.svg" alt="" /><br />Trip lengths</a>
						</li>
						<li class="cycleparking">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_cycleparking" />
							<a href="#cycleparking" title="Cycle parking locations" class="tooltip"><img src="/images/icons/cycleparking_good.svg" alt="" /><br />Cycle parking</a>
						</li>
						<li class="cycletheft">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_cycletheft" />
							<a href="#cycletheft" title="Cycle theft data" class="tooltip"><img src="/images/icons/icon_enforcement_bad.svg" alt="" /><br />Cycle theft</a>
						</li>
						<li class="issues">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_issues" />
							<a href="#issues" title="Reported issues" class="tooltip"><img src="/images/icons/destinations_bad.svg" alt="" /><br />Issues</a>
						</li>
						<!--
						<li class="strava">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_strava" />
							<a href="#strava" title="Strava athlete heatmap layer" class="tooltip"><img src="/images/icons/bicycles_good.svg" alt="" /><br />Strava athelete</a>
						</li>
						-->
						<!-- This option is experimental and is activated by a url pattern -->
						<li class="taxidata" style="display:none">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_taxidata" />
							<a href="#taxidata" title="Taxi data" class="tooltip"><img src="/images/icons/road_neutral.svg" alt="" /><br />Taxi data</a>
						</li>
						<li class="groups">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_groups" />
							<a href="#groups" title="Cycle campaign groups" class="tooltip"><img src="/images/icons/dutchcycleways_good.svg" alt="" /><br />Campaign groups</a>
						</li>
						<li class="howfar">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_howfar" />
							<a href="#howfar" title="How far can I cycle?" class="tooltip"><img src="/images/icons/routesigns_good.svg" alt="" /><br />How far?</a>
						</li>
						<li class="footways">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_footways" />
							<a href="#footways" title="Footways London" class="tooltip"><img src="/images/icons/track_neutral.svg" alt="" /><br />Footways London</a>
						</li>
						<li class="nocontraflows">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_nocontraflows" />
							<a href="#nocontraflows" title="One-way streets without contraflows" class="tooltip"><img src="/images/icons/congestion_neutral.svg" alt="" /><br />No contraflows</a>
						</li>
						<li class="tflcid">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_tflcid" />
							<a href="#tflcid" title="TfL CID" class="tooltip"><img src="/images/icons/bicycles_good.svg" alt="" /><br />TfL CID</a>
						</li>
						<li class="tflcid2osm">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_tflcid2osm" />
							<a href="#tflcid2osm" title="TfL CID as OSM format" class="tooltip"><img src="/images/icons/bicycles_good.svg" alt="" /><br />TfL CID as OSM</a>
						</li>
						<li class="osm">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_osm" />
							<a href="#osm" title="OpenStreetMap data" class="tooltip"><img src="/images/icons/icon_linked_points_neutral.svg" alt="" /><br />OSM</a>
						</li>
						<!-- This option is experimental and is activated by a url pattern -->
						<li class="cyclewayspaths" style="display:none">
							<img src="/js/lib/Mapboxgljs.LayerViewer/images/spinner.svg" class="loading" alt="" />
							<p class="total"></p>
							<input type="checkbox" name="show[]" id="show_cyclewayspaths" />
							<a href="#cyclewayspaths" title="Cycleways and paths" class="tooltip"><img src="/images/icons/routesigns_good.svg" alt="" /><br />Cycleways and paths</a>
						</li>
					</ul>
				</div>
				
				<div id="drawing">
					<div class="panes">
						<div class="pane">
							<h3>Draw area to limit results</h3>
							<div id="drawingcontrols">
								<ul>
									<li><a><span class="draw area"></span>draw area</a></li>
								</ul>
							</div>
							<!--
							<p>Click the points to mark an area on the map.</p>
							<p>Double-click to complete the shape.</p>
							<p>Zoom in and pan to select the correct area.</p>
							-->
							<input id="geometry" name="loc_json" type="hidden" value="" />
						</div>
					</div>
					<ul class="undo-clear">
						<!--<li><a class="edit-undo"><span class="icon-undo"></span><span class="txt">undo</span></a></li>-->
						<li><a class="edit-clear"><span class="icon-clear"></span><span class="txt">clear</span></a></li>
					</ul>
				</div>
				
				<div id="sections">
					
					<header>
						<h1>Bikedata</h1>
						<p class="about">Data to support getting more people cycling.</p>
					</header>
					
					<div id="collisions">
						<h2>Collisions</h2>
						<p>Although cycling is not an inherently unsafe activity, collisions are more frequent than they should be due to lack of cycle infrastructure. Data is from DfT/police STATS19, from 1999-2022. See <a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/995423/stats20-2011.pdf" target="_blank">definitions</a>.</p>
						<p>Zoom in to see all - while zoomed out only a selection is shown due to the volume.</p>
						
						<div class="filters">
							<h3>Filter to:</h3>
							
							<h4>Severity:</h4>
							<div class="controls">
								<select name="field:severity" id="severity">
									<option value="" id="severity___NULL">All</option>
									<option value="fatal" id="severity_fatal">Fatal</option>
									<option value="fatal,serious" id="severity_fatalserious">Fatal / serious</option>
									<option value="serious" id="severity_serious">Serious</option>
									<option value="serious,slight" id="severity_seriousslight">Serious / slight</option>
									<option value="slight" id="severity_slight">Slight</option>
								</select>&nbsp; collisions
							</div>
							
							<h4>Casualty:</h4>
							<div class="controls">
								<input type="checkbox" checked="checked" name="field:casualties[]" id="casualties_Cyclist" value="Cyclist" /><label for="casualties_Cyclist">Cyclist</label><br />
								<input type="checkbox" name="field:casualties[]" id="casualties_Pedestrian" value="Pedestrian" /><label for="casualties_Pedestrian">Pedestrian</label><br />
								<input type="checkbox" name="field:casualties[]" id="casualties_Car_occupant" value="Car occupant" /><label for="casualties_Car_occupant">Car occupant</label><br />
							</div>
							
							<h4>Date range:</h4>
							<p>&nbsp;
								<select name="since" data-yearly-range-since-sqldate="1999,2022">
									<option value="">&nbsp;</option>
								</select>
								-
								<select name="until" data-yearly-range-until-sqldate="1999,2022">
									<option value="">&nbsp;</option>
								</select>
							</p>
							
							<!--
							<h4>With a:</h4>
							<div class="controls">
								<input type="checkbox" checked="checked" name="field:involved[]" id="involved_Car_occupant" value="Driver" /><label for="involved_Car_occupant">Driver</label>
								<input type="checkbox" name="field:involved[]" id="involved_Cyclist" value="Cyclist" /><label for="involved_Cyclist">Cyclist</label>
								<input type="checkbox" name="field:involved[]" id="involved_Pedestrian" value="Pedestrian" /><label for="involved_Pedestrian">Ped</label><br />
							</div>
							-->
							
							<h4>Limit to:</h4>
							<div class="controls">
								<input type="checkbox" name="field:junction_detail" value="1,2,3,5,6,7" id="junctions" /><label for="junctions">Junctions</label><br />
								<input type="checkbox" name="field:road_type" value="2" id="onewaystreets" /><label for="onewaystreets">One-way streets</label><br />
								<input type="checkbox" name="field:first_road_class" value="1,2,3" id="aroads" /><label for="aroads" title="A, A(M), and motorways">A-roads</label><br />
								<br />
								<select name="field:speed_limit" id="speedlimit">
									<option value="" id="speedlimit___NULL">All</option>
									<option value="20" id="speedlimit_20">20 mph</option>
									<option value="20,30" id="speedlimit_20_30">20/30mph</option>
									<option value="30" id="speedlimit_30">30mph</option>
									<option value="40,50,60,70" id="speedlimit_40_70">40-70mph</option>
									<option value="50,60,70" id="speedlimit_50plus">50-70mph</option>
								</select> speed limit
								<br /><br />
								Council: <select name="field:local_authority_district" id="localauthority">
									<option value=""></option>
									<option value="910">Aberdeen City</option>
									<option value="911">Aberdeenshire</option>
									<option value="557">Adur</option>
									<option value="60">Allerdale</option>
									<option value="140">Alnwick</option>
									<option value="320">Amber Valley</option>
									<option value="912">Angus</option>
									<option value="913">Argyll and Bute</option>
									<option value="558">Arun</option>
									<option value="340">Ashfield</option>
									<option value="530">Ashford</option>
									<option value="476">Aylesbury Vale</option>
									<option value="410">Babergh</option>
									<option value="16">Barking and Dagenham</option>
									<option value="30">Barnet</option>
									<option value="210">Barnsley</option>
									<option value="61">Barrow-in-Furness</option>
									<option value="450">Basildon</option>
									<option value="490">Basingstoke and Deane</option>
									<option value="341">Bassetlaw</option>
									<option value="611">Bath and North East Somerset</option>
									<option value="420">Bedford</option>
									<option value="141">Berwick-upon-Tweed</option>
									<option value="18">Bexley</option>
									<option value="300">Birmingham</option>
									<option value="360">Blaby</option>
									<option value="70">Blackburn with Darwen</option>
									<option value="71">Blackpool</option>
									<option value="730">Blaenau Gwent</option>
									<option value="142">Blyth Valley</option>
									<option value="321">Bolsover</option>
									<option value="100">Bolton</option>
									<option value="350">Boston</option>
									<option value="640">Bournemouth</option>
									<option value="470">Bracknell Forest</option>
									<option value="200">Bradford</option>
									<option value="451">Braintree</option>
									<option value="400">Breckland</option>
									<option value="28">Brent</option>
									<option value="452">Brentwood</option>
									<option value="740">Bridgend</option>
									<option value="279">Bridgnorth</option>
									<option value="565">Brighton and Hove</option>
									<option value="601">Bristol, City of</option>
									<option value="401">Broadland</option>
									<option value="19">Bromley</option>
									<option value="270">Bromsgrove</option>
									<option value="430">Broxbourne</option>
									<option value="342">Broxtowe</option>
									<option value="72">Burnley</option>
									<option value="101">Bury</option>
									<option value="731">Caerphilly</option>
									<option value="202">Calderdale</option>
									<option value="390">Cambridge</option>
									<option value="2">Camden</option>
									<option value="250">Cannock Chase</option>
									<option value="531">Canterbury</option>
									<option value="590">Caradon</option>
									<option value="741">Cardiff</option>
									<option value="62">Carlisle</option>
									<option value="751">Carmarthenshire</option>
									<option value="591">Carrick</option>
									<option value="143">Castle Morpeth</option>
									<option value="453">Castle Point</option>
									<option value="424">Central Bedfordshire</option>
									<option value="750">Ceredigion</option>
									<option value="362">Charnwood</option>
									<option value="454">Chelmsford</option>
									<option value="620">Cheltenham</option>
									<option value="481">Cherwell</option>
									<option value="129">Cheshire East</option>
									<option value="130">Cheshire West and Chester</option>
									<option value="120">Chester</option>
									<option value="160">Chester-le-Street</option>
									<option value="322">Chesterfield</option>
									<option value="559">Chichester</option>
									<option value="478">Chiltern</option>
									<option value="73">Chorley</option>
									<option value="641">Christchurch</option>
									<option value="570">City of London</option>
									<option value="915">Clackmannanshire</option>
									<option value="455">Colchester</option>
									<option value="121">Congleton</option>
									<option value="721">Conwy</option>
									<option value="63">Copeland</option>
									<option value="380">Corby</option>
									<option value="596">Cornwall</option>
									<option value="621">Cotswold</option>
									<option value="169">County Durham</option>
									<option value="302">Coventry</option>
									<option value="180">Craven</option>
									<option value="560">Crawley</option>
									<option value="122">Crewe and Nantwich</option>
									<option value="20">Croydon</option>
									<option value="431">Dacorum</option>
									<option value="161">Darlington</option>
									<option value="532">Dartford</option>
									<option value="381">Daventry</option>
									<option value="723">Denbighshire</option>
									<option value="323">Derby</option>
									<option value="329">Derbyshire Dales</option>
									<option value="162">Derwentside</option>
									<option value="211">Doncaster</option>
									<option value="533">Dover</option>
									<option value="303">Dudley</option>
									<option value="917">Dumfries and Galloway</option>
									<option value="918">Dundee City</option>
									<option value="163">Durham</option>
									<option value="27">Ealing</option>
									<option value="164">Easington</option>
									<option value="919">East Ayrshire</option>
									<option value="391">East Cambridgeshire</option>
									<option value="580">East Devon</option>
									<option value="647">East Dorset</option>
									<option value="920">East Dunbartonshire</option>
									<option value="497">East Hampshire</option>
									<option value="432">East Hertfordshire</option>
									<option value="351">East Lindsey</option>
									<option value="921">East Lothian</option>
									<option value="382">East Northamptonshire</option>
									<option value="922">East Renfrewshire</option>
									<option value="231">East Riding of Yorkshire</option>
									<option value="251">East Staffordshire</option>
									<option value="551">Eastbourne</option>
									<option value="491">Eastleigh</option>
									<option value="64">Eden</option>
									<option value="923">Edinburgh, City of</option>
									<option value="123">Ellesmere Port and Neston</option>
									<option value="510">Elmbridge</option>
									<option value="32">Enfield</option>
									<option value="456">Epping Forest</option>
									<option value="38">Epsom and Ewell</option>
									<option value="324">Erewash</option>
									<option value="581">Exeter</option>
									<option value="924">Falkirk</option>
									<option value="492">Fareham</option>
									<option value="392">Fenland</option>
									<option value="925">Fife</option>
									<option value="724">Flintshire</option>
									<option value="411">Forest Heath</option>
									<option value="622">Forest of Dean</option>
									<option value="74">Fylde</option>
									<option value="146">Gateshead</option>
									<option value="343">Gedling</option>
									<option value="926">Glasgow City</option>
									<option value="623">Gloucester</option>
									<option value="493">Gosport</option>
									<option value="535">Gravesham</option>
									<option value="402">Great Yarmouth</option>
									<option value="6">Greenwich</option>
									<option value="511">Guildford</option>
									<option value="722">Gwynedd</option>
									<option value="4">Hackney</option>
									<option value="124">Halton</option>
									<option value="181">Hambleton</option>
									<option value="11">Hammersmith and Fulham</option>
									<option value="363">Harborough</option>
									<option value="31">Haringey</option>
									<option value="457">Harlow</option>
									<option value="182">Harrogate</option>
									<option value="29">Harrow</option>
									<option value="494">Hart</option>
									<option value="240">Hartlepool</option>
									<option value="552">Hastings</option>
									<option value="495">Havant</option>
									<option value="15">Havering</option>
									<option value="285">Herefordshire, County of </option>
									<option value="33">Hertsmere</option>
									<option value="325">High Peak</option>
									<option value="927">Highland</option>
									<option value="26">Hillingdon</option>
									<option value="361">Hinckley and Bosworth</option>
									<option value="562">Horsham</option>
									<option value="25">Hounslow</option>
									<option value="393">Huntingdonshire</option>
									<option value="75">Hyndburn</option>
									<option value="928">Inverclyde</option>
									<option value="412">Ipswich</option>
									<option value="720">Isle of Anglesey</option>
									<option value="505">Isle of Wight</option>
									<option value="3">Islington</option>
									<option value="630">Kennet</option>
									<option value="12">Kensington and Chelsea</option>
									<option value="592">Kerrier</option>
									<option value="383">Kettering</option>
									<option value="407">King's Lynn and West Norfolk</option>
									<option value="228">Kingston upon Hull, City of</option>
									<option value="23">Kingston upon Thames</option>
									<option value="203">Kirklees</option>
									<option value="90">Knowsley</option>
									<option value="9">Lambeth</option>
									<option value="76">Lancaster</option>
									<option value="204">Leeds</option>
									<option value="364">Leicester</option>
									<option value="554">Lewes</option>
									<option value="7">Lewisham</option>
									<option value="252">Lichfield</option>
									<option value="352">Lincoln</option>
									<option value="91">Liverpool</option>
									<option value="57">London Airport (Heathrow)</option>
									<option value="421">Luton</option>
									<option value="126">Macclesfield</option>
									<option value="536">Maidstone</option>
									<option value="458">Maldon</option>
									<option value="273">Malvern Hills</option>
									<option value="102">Manchester</option>
									<option value="344">Mansfield</option>
									<option value="544">Medway</option>
									<option value="365">Melton</option>
									<option value="606">Mendip</option>
									<option value="742">Merthyr Tydfil</option>
									<option value="22">Merton</option>
									<option value="422">Mid Bedfordshire</option>
									<option value="586">Mid Devon</option>
									<option value="413">Mid Suffolk</option>
									<option value="563">Mid Sussex</option>
									<option value="243">Middlesbrough</option>
									<option value="929">Midlothian</option>
									<option value="479">Milton Keynes</option>
									<option value="512">Mole Valley</option>
									<option value="732">Monmouthshire</option>
									<option value="930">Moray</option>
									<option value="743">Neath Port Talbot</option>
									<option value="496">New Forest</option>
									<option value="345">Newark and Sherwood</option>
									<option value="147">Newcastle upon Tyne</option>
									<option value="253">Newcastle-under-Lyme</option>
									<option value="17">Newham</option>
									<option value="733">Newport</option>
									<option value="931">North Ayrshire</option>
									<option value="593">North Cornwall</option>
									<option value="582">North Devon</option>
									<option value="642">North Dorset</option>
									<option value="327">North East Derbyshire</option>
									<option value="233">North East Lincolnshire</option>
									<option value="433">North Hertfordshire</option>
									<option value="353">North Kesteven</option>
									<option value="932">North Lanarkshire</option>
									<option value="232">North Lincolnshire</option>
									<option value="405">North Norfolk</option>
									<option value="280">North Shropshire</option>
									<option value="605">North Somerset</option>
									<option value="148">North Tyneside</option>
									<option value="290">North Warwickshire</option>
									<option value="366">North West Leicestershire</option>
									<option value="631">North Wiltshire</option>
									<option value="384">Northampton</option>
									<option value="139">Northumberland</option>
									<option value="404">Norwich</option>
									<option value="346">Nottingham</option>
									<option value="291">Nuneaton and Bedworth</option>
									<option value="367">Oadby and Wigston</option>
									<option value="104">Oldham</option>
									<option value="933">Orkney Islands</option>
									<option value="281">Oswestry</option>
									<option value="482">Oxford</option>
									<option value="752">Pembrokeshire</option>
									<option value="77">Pendle</option>
									<option value="594">Penwith</option>
									<option value="934">Perth and Kinross</option>
									<option value="394">Peterborough</option>
									<option value="583">Plymouth</option>
									<option value="643">Poole</option>
									<option value="498">Portsmouth</option>
									<option value="753">Powys</option>
									<option value="79">Preston</option>
									<option value="644">Purbeck</option>
									<option value="472">Reading</option>
									<option value="14">Redbridge</option>
									<option value="241">Redcar and Cleveland</option>
									<option value="274">Redditch</option>
									<option value="513">Reigate and Banstead</option>
									<option value="935">Renfrewshire</option>
									<option value="595">Restormel</option>
									<option value="744">Rhondda, Cynon, Taff</option>
									<option value="80">Ribble Valley</option>
									<option value="24">Richmond upon Thames</option>
									<option value="184">Richmondshire</option>
									<option value="106">Rochdale</option>
									<option value="459">Rochford</option>
									<option value="82">Rossendale</option>
									<option value="555">Rother</option>
									<option value="213">Rotherham</option>
									<option value="292">Rugby </option>
									<option value="514">Runnymede</option>
									<option value="347">Rushcliffe</option>
									<option value="499">Rushmoor</option>
									<option value="368">Rutland</option>
									<option value="185">Ryedale</option>
									<option value="107">Salford</option>
									<option value="632">Salisbury</option>
									<option value="305">Sandwell</option>
									<option value="186">Scarborough</option>
									<option value="914">Scottish Borders</option>
									<option value="165">Sedgefield</option>
									<option value="607">Sedgemoor</option>
									<option value="93">Sefton</option>
									<option value="187">Selby</option>
									<option value="538">Sevenoaks</option>
									<option value="215">Sheffield</option>
									<option value="539">Shepway</option>
									<option value="936">Shetland Islands</option>
									<option value="282">Shrewsbury and Atcham</option>
									<option value="286">Shropshire</option>
									<option value="473">Slough</option>
									<option value="306">Solihull</option>
									<option value="937">South Ayrshire</option>
									<option value="423">South Bedfordshire</option>
									<option value="477">South Bucks</option>
									<option value="395">South Cambridgeshire</option>
									<option value="328">South Derbyshire</option>
									<option value="612">South Gloucestershire</option>
									<option value="584">South Hams</option>
									<option value="354">South Holland</option>
									<option value="355">South Kesteven</option>
									<option value="65">South Lakeland</option>
									<option value="938">South Lanarkshire</option>
									<option value="406">South Norfolk</option>
									<option value="385">South Northamptonshire</option>
									<option value="484">South Oxfordshire</option>
									<option value="83">South Ribble</option>
									<option value="283">South Shropshire</option>
									<option value="610">South Somerset</option>
									<option value="254">South Staffordshire</option>
									<option value="149">South Tyneside</option>
									<option value="500">Southampton </option>
									<option value="460">Southend-on-Sea</option>
									<option value="8">Southwark</option>
									<option value="40">Spelthorne</option>
									<option value="434">St. Albans</option>
									<option value="414">St. Edmundsbury</option>
									<option value="92">St. Helens</option>
									<option value="255">Stafford</option>
									<option value="256">Staffordshire Moorlands</option>
									<option value="435">Stevenage</option>
									<option value="939">Stirling</option>
									<option value="109">Stockport</option>
									<option value="245">Stockton-on-Tees</option>
									<option value="257">Stoke-on-Trent</option>
									<option value="293">Stratford-upon-Avon</option>
									<option value="624">Stroud</option>
									<option value="415">Suffolk Coastal</option>
									<option value="150">Sunderland</option>
									<option value="515">Surrey Heath</option>
									<option value="21">Sutton</option>
									<option value="540">Swale</option>
									<option value="745">Swansea</option>
									<option value="633">Swindon</option>
									<option value="110">Tameside</option>
									<option value="258">Tamworth</option>
									<option value="516">Tandridge</option>
									<option value="608">Taunton Deane</option>
									<option value="166">Teesdale</option>
									<option value="585">Teignbridge</option>
									<option value="284">Telford and Wrekin</option>
									<option value="461">Tendring</option>
									<option value="501">Test Valley</option>
									<option value="625">Tewkesbury</option>
									<option value="541">Thanet</option>
									<option value="746">The Vale of Glamorgan</option>
									<option value="436">Three Rivers</option>
									<option value="462">Thurrock</option>
									<option value="542">Tonbridge and Malling</option>
									<option value="587">Torbay</option>
									<option value="734">Torfaen</option>
									<option value="588">Torridge</option>
									<option value="5">Tower Hamlets</option>
									<option value="112">Trafford</option>
									<option value="543">Tunbridge Wells</option>
									<option value="144">Tynedale</option>
									<option value="463">Uttlesford</option>
									<option value="483">Vale of White Horse</option>
									<option value="127">Vale Royal</option>
									<option value="206">Wakefield</option>
									<option value="307">Walsall</option>
									<option value="13">Waltham Forest</option>
									<option value="10">Wandsworth</option>
									<option value="145">Wansbeck</option>
									<option value="128">Warrington</option>
									<option value="294">Warwick</option>
									<option value="437">Watford</option>
									<option value="416">Waveney</option>
									<option value="517">Waverley</option>
									<option value="556">Wealden</option>
									<option value="168">Wear Valley</option>
									<option value="386">Wellingborough</option>
									<option value="438">Welwyn Hatfield</option>
									<option value="471">West Berkshire</option>
									<option value="589">West Devon</option>
									<option value="645">West Dorset</option>
									<option value="916">West Dunbartonshire</option>
									<option value="84">West Lancashire</option>
									<option value="356">West Lindsey</option>
									<option value="940">West Lothian</option>
									<option value="485">West Oxfordshire</option>
									<option value="609">West Somerset</option>
									<option value="634">West Wiltshire</option>
									<option value="941">Western Isles</option>
									<option value="1">Westminster</option>
									<option value="646">Weymouth and Portland</option>
									<option value="114">Wigan</option>
									<option value="635">Wiltshire</option>
									<option value="502">Winchester</option>
									<option value="474">Windsor and Maidenhead</option>
									<option value="95">Wirral</option>
									<option value="518">Woking</option>
									<option value="475">Wokingham</option>
									<option value="309">Wolverhampton</option>
									<option value="276">Worcester</option>
									<option value="564">Worthing</option>
									<option value="725">Wrexham</option>
									<option value="277">Wychavon</option>
									<option value="480">Wycombe</option>
									<option value="85">Wyre</option>
									<option value="278">Wyre Forest</option>
									<option value="189">York</option>
								</select>
							</div>
							
							<!--
							<p>&#9655; More filters</p>
							-->
		
						</div>
						
						<div class="export button">
							<p>Export spreadsheet: <img class="csv" src="/js/lib/Mapboxgljs.LayerViewer/images/page_excel.png" alt="Spreadsheet" /></p>
							<p>Export GeoJSON: <img class="geojson" src="/js/lib/Mapboxgljs.LayerViewer/images/page_code.png" alt="GeoJSON" /></p>
						</div>
						
						<!--
						<div id="compare" class="filters">
							<h3>&#10018; Comparison charts:</h3>
						
							<script>
								$(function() {
									$(':checkbox.enable').on('change', function() {
										$(this).closest('div').toggleClass('enabled', this.checked);
									});
								});
							</script>
							
							<div id="collisions_dateRange">
								<h4>
									<input type="checkbox" id="enableDateRange" class="enable" />
									<label for="enableDateRange">Changes over time:</label>
								</h4>
								<div class="controls">
									<label for="dateFrom">From: </label><input type="date" name="dateFrom" /><br />
									<label for="dateTo">To: </label><input type="date" name="dateTo" />
								</div>
							</div>
							
							<div id="localAuthorities">
								<h4>
									<input type="checkbox" id="enableLocalAuthorities" class="enable" />
									<label for="enableLocalAuthorities">Local Authorities:</label>
								</h4>
								<div class="controls">
	
									<select name="localAuthority1">
										<option value="" id="localAuthority1_"></option>
										<option value="London" id="localAuthority1_london">London</option>
										<option value="Cambridge" id="localAuthority1_cambridge">Cambridge</option>
										<option value="Edinburgh" id="localAuthority1_edinburgh">Edinburgh</option>
									</select>
									<select name="localAuthority2">
										<option value="" id="localAuthority2_all">All</option>
										<option value="London" id="localAuthority2_london">London</option>
										<option value="Cambridge" id="localAuthority2_cambridge">Cambridge</option>
										<option value="Edinburgh" id="localAuthority2_edinburgh">Edinburgh</option>
									</select>
								</div>
							</div>
						</div>
						-->
					</div>
					
					<div id="collisionsheatmap">
						<h2>Collisions heatmap</h2>
					</div>
					
					<div id="issues">
						<h2>Issues</h2>
						<p>Issues reported by Cyclescape users, representing problems on the cycle network. These include traffic schemes, planning applications, and more.</p>
						
						<div class="filters">
							<h3>Filter:</h3>
							
							<div id="issues_dateRange">
								<h4>Between dates:</h4>
								<div class="controls">
									<label for="issues_start_date">From: </label><input type="date" name="start_date" id="issues_start_date" /><br />
									<label for="issues_end_date">To: </label><input type="date" name="end_date" id="issues_end_date" />
								</div>
							</div>
							
							<h4>Tags:</h4>
							<div class="controls" data-processing="array">
								<input type="checkbox" name="tags[]" id="tags_consultation" value="consultation" /><label for="tags_consultation">Consultation</label><br />
								<input type="checkbox" name="tags[]" id="tags_cycleparking" value="cycleparking" /><label for="tags_cycleparking">Cycleparking</label><br />
								<input type="checkbox" name="tags[]" id="tags_planning" value="planning" /><label for="tags_planning">Planning</label><br />
								<input type="checkbox" name="tags[]" id="tags_parking" value="parking" /><label for="tags_parking">Parking</label><br />
								<input type="checkbox" name="tags[]" id="tags_obstruction" value="obstruction" /><label for="tags_obstruction">Obstruction</label><br />
								<input type="checkbox" name="tags[]" id="tags_cyclepath" value="cyclepath" /><label for="tags_cyclepath">Cyclepath</label><br />
								<input type="checkbox" name="tags[]" id="tags_junction" value="junction" /><label for="tags_junction">Junction</label><br />
								<input type="checkbox" name="tags[]" id="tags_quietway" value="quietway" /><label for="tags_quietway">Quietway</label><br />
								<input type="checkbox" name="tags[]" id="tags_road" value="road" /><label for="tags_road">Road</label><br />
								<input type="checkbox" name="tags[]" id="tags_route" value="route" /><label for="tags_route">Route</label><br />
								<input type="checkbox" name="tags[]" id="tags_safety" value="safety" /><label for="tags_safety">Safety</label><br />
								<input type="checkbox" name="tags[]" id="tags_tfl" value="tfl" /><label for="tags_tfl">Tfl</label><br />
								<input type="checkbox" name="tags[]" id="tags_contraflow" value="contraflow" /><label for="tags_contraflow">Contraflow</label><br />
								<input type="checkbox" name="tags[]" id="tags_tfl_consultation" value="tfl_consultation" /><label for="tags_tfl_consultation">Tfl_consultation</label><br />
								<input type="checkbox" name="tags[]" id="tags_crossing" value="crossing" /><label for="tags_crossing">Crossing</label><br />
								<input type="checkbox" name="tags[]" id="tags_planningapplication" value="planningapplication" /><label for="tags_planningapplication">Planningapplication</label><br />
								<input type="checkbox" name="tags[]" id="tags_development" value="development" /><label for="tags_development">Development</label><br />
								<input type="checkbox" name="tags[]" id="tags_station" value="station" /><label for="tags_station">Station</label><br />
								<input type="checkbox" name="tags[]" id="tags_spaceforcycling" value="spaceforcycling" /><label for="tags_spaceforcycling">Spaceforcycling</label><br />
								<input type="checkbox" name="tags[]" id="tags_traffic-lights" value="traffic-lights" /><label for="tags_traffic-lights">Traffic-lights</label><br />
								<input type="checkbox" name="tags[]" id="tags_consultations" value="consultations" /><label for="tags_consultations">Consultations</label><br />
							</div>
							
						</div>
					</div>
					
					<div id="planningapplications">
						<h2>Planning applications</h2>
						<p>New developments have the potential to worsen traffic conditions, but can also bring opportunities to fund infrastructure improvements.</p>
						
						<div class="filters">
							<h3>Filters:</h3>
							
							<div id="dateRecent">
								<h4>Since:</h4>
								<select name="recent">
									<option value="">Recent</option>
									<option value="56">8 weeks</option>
									<option value="91">13 weeks</option>
									<option value="112">16 weeks</option>
								</select>
								<p><a href="https://www.gov.uk/guidance/determining-a-planning-application" target="_blank">Read more about consultation time limits.</a></p>
							</div>
							
							<h4>Size of development:</h4>
							<ul class="controls">
								<li><label><input type="checkbox" name="size[]" value="Small">Small</label></li>
								<li><label><input type="checkbox" name="size[]" value="Medium">Medium</label></li>
								<li><label><input type="checkbox" name="size[]" value="Large">Large</label></li>
							</ul>
							
							<h4>Application type:</h4>
							<ul class="controls">
								<li><label><input type="checkbox" name="type[]" value="Full">Full</label></li>
								<li><label><input type="checkbox" name="type[]" value="Outline">Outline</label></li>
								<li><label><input type="checkbox" name="type[]" value="Amendment">Amendment</label></li>
								<li><label><input type="checkbox" name="type[]" value="Heritage">Heritage</label></li>
								<li><label><input type="checkbox" name="type[]" value="Trees">Trees</label></li>
								<li><label><input type="checkbox" name="type[]" value="Advertising">Advertising</label></li>
								<li><label><input type="checkbox" name="type[]" value="Telecoms">Telecoms</label></li>
								<li><label><input type="checkbox" name="type[]" value="Other">Other</label></li>
								<li><label><input type="checkbox" name="type[]" value="Conditions">Conditions</label></li>
							</ul>
							
							<h4>Status</h4>
							<ul class="controls">
								<li><label><input type="checkbox" checked="checked" name="state[]" value="Undecided" />Current</label></li>
								<li><label><input type="checkbox" name="state[]" value="Permitted,Conditions,Rejected,Withdrawn,Other" />Decided</label></li>
							</ul>
							
							<div id="dateRange">
								<h4>Between dates:</h4>
								<div class="controls">
									<label for="planningapplications_start_date">From: </label><input type="date" name="start_date" id="planningapplications_start_date" /><br />
									<label for="planningapplications_end_date">To: </label><input type="date" name="end_date" id="planningapplications_end_date" />
								</div>
							</div>
							
						</div>
						
					</div>
					
					<div id="bikeshare">
						<h2>Bikeshare schemes</h2>
						<p>Automated cycle hire schemes enable people to use a bike without needing to own one.</p>
						<p>Data here currently covers only London and Barcelona, but will be extended in due course.</p>
					</div>
					
					<!--
					<div id="pollingstations">
						<h2>Polling stations</h2>
						<p>Vote bike! Get directions to your nearest polling station.</p>
						<p>Thanks to Democracy Club and their volunteers for collecting the polling station locations - see <a href="https://wheredoivote.co.uk/" target="_blank">Where Do I Vote?</a>.</p>
					</div>
					-->
					
					<div id="popupcycleways">
						<h2>Popup cycleways - suggested</h2>
						<p>This layer shows potential suggested popup cycleways, arising from research at Leeds University.</p>
						<p>For full details, see the <a target="_blank" href="https://www.cyipt.bike/rapid/">Rapid Cycleway Prioritisation Tool</a>.</p>
					</div>
					
					<div id="popupcyclewaylocations">
						<h2>Popup cycleways - initial COVID locations</h2>
						<p>This historic data layer shows potential popup cycleways that were being implemented by councils in the early days of the COVID-19 pandemic, as of July 2020.</p>
						<p>Many thanks to Cycling UK for their work collecting this data, whose <a href="https://www.google.com/maps/d/viewer?mid=1CbqvW6Q-FQaPzIeXwnzmS4l2pDJjtWry" target="_blank">map</a> we have used.</p>
						<p>The list may not be complete, due to limitations in capacity to collect the data at the time.</p>
					</div>
					

					<div id="taxidata">
						<h2>Taxi data</h2>
						<p>Where are taxis travelling? An experimental layer created at Cambridge Hack Transport (2017).</p>

						<div class="filters">
							<h3>Filter to:</h3>
							
							<h4>Volume of data:</h4>
							<select name="samplepercent">
								<option value="">All</option>
								<option value="0.01">0.01%</option>
								<option value="0.02">0.02%</option>
								<option value="0.05">0.05%</option>
								<option value="0.1">0.1%</option>
								<option value="0.2">0.2%</option>
								<option value="0.5">0.5%</option>
								<option value="1">1%</option>
								<option value="2">2%</option>
								<option value="5">5%</option>
								<option value="10">10%</option>
								<option value="20">20%</option>
								<option value="50">50%</option>
							</select>

							<h4>Vehicle speed:</h4>
							<select name="speed">
								<option value="">All</option>
								<option value="&lt; 4">Idling</option>
								<option value="&gt;= 4">Driving</option>
								<option value="&gt; 20">&gt;20mph</option>
								<option value="&gt; 30">&gt;30mph</option>
							</select>
							
							<h4>Vehicle status:</h4>
							<select name="status">
								<option value="">All</option>
								<option value="tFree">Free</option>
								<option value="tAllocated">Allocated (driving to pickup)</option>
								<option value="tBusy">Busy (with passenger)</option>
							</select>
							
							<h4>Time:</h4>
							<select name="time">
								<option value="">All</option>
								<option value="07:00:00-10:00:00">Morning peak (7-10am)</option>
								<option value="15:00:00-21:00:00">Evening peak (3-7pm)</option>
								<option value="20:00:00-23:59:59">Evening (8pm-midnight)</option>
								<option value="00:00:00-03:00:00">Late night (midnight-3am)</option>
							</select>
							
							<h4>Date:</h4>
							<select name="date" data-monthly-since="2014-06">
								<option value="">All reports (since June 2014)</option>
							</select>
						</div>
					</div>
					
					<!--
					<div id="cyclingrates">
						<h2>Cycling rates</h2>
						<p>blurb</p>
						<p><em>controls</em></p>
					</div>
					-->
					
					<div id="trafficcounts">
						<h2>Traffic count data</h2>
						<p>This map contains official traffic counts of all main roads in the UK, for each type of vehicle. This is a visualisation of the DfT's AADF (Annual Average Daily Flows) data. Figures are average daily counts.</p>
						<p><em>Based on work originally by <a href="https://hfcyclists.org.uk/s4c-maps/dft-annual-average-daily-flow-vehicle-counts-mapped-visualised/" target="_blank">Alex Ingram at hfcyclists</a>.</em></p>
					</div>
					
					<div id="triplengths">
						<h2>Trip lengths</h2>
						<p>How far do people cycle in an area? We've made available aggregated data from the CycleStreets journey planner, representing real user journey intentions. Bear in mind this is only one data source.</p>
						<p><em>controls</em></p>
					</div>
					
					<div id="cycleparking">
						<h2>Cycle parking</h2>
						<p>Knowing where you can find cycle parking as a cyclist, especially in cities, is helpful in avoiding theft, as well as helping keeping busy streets tidy.</p>
						<div class="button">
							<p class="enabled"><a href="https://www.urbancycleparking.org.uk/suggest/"><span class="symbol">&#8853;</span> Suggest where new cycle parking is needed</a></p>
						</div>
						<div class="button">
							<p class="enabled"><a href="https://www.openstreetmap.org/"><span class="symbol">&#8853;</span> Add existing cycle parking to the map</a></p>
						</div>
						
						<div class="filters">
							<h3>Filter to:</h3>
							<div class="controls">
								<select name="accessFilter" id="accessFilter">
									<option value="">Show all</option>
									<option value="public">Public only</option>
									<option value="private">Private only</option>
									<option value="destination">Vistors only</option>
								</select>
							</div>
						</div>
						
						<div class="export button">
							<p>Export: <img class="csv" src="/js/lib/Mapboxgljs.LayerViewer/images/page_excel.png" alt="Spreadsheet" /></p>
						</div>
					</div>
					
					<div id="cycletheft">
						<h2>Cycle theft</h2>
						<p>Bike theft can mean people giving up cycling entirely. Cities are failing to provide secure cycle parking in public and residential areas.</p>
						
						<div class="filters">
							<h3>Filter to:</h3>
							
							<h4>Reported in:</h4>
							<select name="date" data-monthly-since="2013-06">
								<option value="">All reports (since June 2013)</option>
								<!-- Cycle parking data not available earlier; see: https://data.police.uk/changelog/ -->
							</select>
						</div>
					</div>
					
					<div id="photomap">
						<h2>Cycle infrastructure photomap</h2>
						<p>100,000+ cycling-related images of cycling infrastructure, by users.</p>
						<div class="button aside">
							<p class="enabled"><a href="https://www.cyclestreets.net/photomap/add/"><span class="symbol">&#8853;</span> Add photo</a></p>
						</div>
						
						<div class="filters">
							<h3>Filter to:</h3>
								
							<h4>Search captions:</h4>
							<input type="search" name="search" size="25" />
							
							<h4>Category:</h4>
							<div class="controls">
								<select name="category" id="category">
									<option value="">All</option>
									<option value="cycleparking">Cycle parking</option>
									<option value="obstructions">Obstruction</option>
									<option value="track">Track</option>
									<option value="dutchcycleways">Dutch-style cycleway</option>
									<option value="road">Road environment</option>
									<option value="cycleways">Cycleway</option>
									<option value="enforcement">Enforcement</option>
									<option value="carstorage">Car storage</option>
									<option value="closure">Temporary closure</option>
									<option value="roadworks">Roadworks</option>
									<option value="bikeshops">Bike shop</option>
									<option value="potholes">Pothole</option>
									<option value="destinations">Destination</option>
									<option value="signs">General sign/notice</option>
									<option value="routesigns">Route sign</option>
									<option value="congestion">Congestion</option>
									<option value="bicycles">Bicycle</option>
									<option value="general">Other</option>
								</select>
							</div>
							
							<h4>Good or bad:</h4>
							<div class="controls">
								<select name="metacategory" id="metacategory">
									<option value="">All</option>
									<option value="bad" id="severity_bad">Problem</option>
									<option value="good" id="severity_good">Good practice</option>
									<option value="other" id="severity_other">Infrastructure</option>
									<option value="any" id="severity_any">Misc</option>
									<option value="event" id="severity_event">Event</option>
								</select>
							</div>
							
							<h4>Tag:</h4>
							<input type="text" name="tags" size="20" />
							
							<h4>Since:</h4>
							<select name="since" data-yearly-since-unixtime="2000">
								<option value="">No date limit</option>
							</select>
							
							<h4>Specific date:</h4>
							<input type="date" name="date" />
							
							<h4>Photos:</h4>
							<input type="checkbox" name="suppressplaceholders" id="photomap_suppressplaceholders" value="1" checked="checked" /><label for="photomap_suppressplaceholders">Only reports with a photo</label>
							
							<!--<p>&#9655; More filters</p>-->
		
						</div>
						
						<div class="export button">
							<p>Export: <img class="csv" src="/js/lib/Mapboxgljs.LayerViewer/images/page_excel.png" alt="Spreadsheet" /></p>
						</div>
						
					</div>
					
					<!--
					<div id="strava">
						<h2>Strava athelete heatmap</h2>
						<p>Strava is a website and mobile app used to track athletic activity via GPS. Strava publish a heatmap, showing where there is most activity.</p>
						<p>Bear in mind this does not necessarily correlate with utility or commuter cycling.</p>
						
						<div class="filters">
							<h3>Style:</h3>
							<div class="controls">
								<select name="style" id="style">
									<option value="hot">Hot</option>
									<option value="blue">Blue</option>
									<option value="gray">Gray</option>
									<option value="bluered">Red</option>
								</select>
							</div>
						</div>

					</div>
					-->
					
					<div id="cycleability">
						<h2>Cycleability ratings</h2>
						<p>This layer shows ratings of the cycleability rating of every street and path. Data comes from the CycleStreets routing engine.</p>
						<p>Currently this only shows a maximum of 400 linear features at a time. Please contact us via the feedback form if you need mass extracts covering a larger region.</p>
					</div>
					
					<div id="widths">
						<h2>Road/path widths</h2>
						<p>This layer shows a calculation of road/path widths. Data is processed by the CyIPT project and comes from DCLG / OS.</p>
						
						<div class="filters">
							<h3>Show:</h3>
							<div class="controls">
								<select name="widthlayer">
									<option value="roadwidth" selected="selected">Road width</option>
									<option value="widthstatus">Width status</option>
								</select>
							</div>
						</div>
						
						<div class="export button">
							<p>Export: <img class="csv" src="/js/lib/Mapboxgljs.LayerViewer/images/page_excel.png" alt="Spreadsheet" /></p>
						</div>
					</div>
					
					<div id="tflcid">
						<h2>TfL Cycling Infrastructure Database (CID)</h2>
						
						<p>TfL's CID is a comprehensive and attribute-rich dataset of all cycle infrastructure throughout London. The data is a snapshot in time ranging between January 2017 and May 2018.</p>
						<p>The <a href="https://cycling.data.tfl.gov.uk/CyclingInfrastructure/documentation/cid_database_schema.xlsx">TfL CID schema</a> is available, as is a <a href="https://www.cyclestreets.net/api/v2/#infrastructuredatasetauditing">GeoJSON API</a> for developers. <a href="https://cycling.data.tfl.gov.uk/">Raw data downloads</a> are available from TfL.</p>
						
						<div class="filters">

							<h3>Feature type:</h3>
							
							<div class="controls">
								<select name="type">
									<option value="">[All assets - no filter]</option>
									<option value="advanced_stop_line">Advanced stop line</option>
									<option value="crossing">Crossing</option>
									<option value="cycle_lane_track">Cycle lane/track</option>
									<option value="cycle_parking">Cycle parking</option>
									<option value="restricted_point">Restricted point</option>
									<option value="restricted_route">Restricted route</option>
									<option value="signage">Signage</option>
									<option value="signal">Signals</option>
									<option value="traffic_calming">Traffic calming</option>
								</select>
							</div>
							<div id="featuretypedescription">
								<p class="smaller"></p>
							</div>
							<div id="featuretypefilters">
							</div>
						</div>
					</div>
					
					<div id="groups">
						<h2>Cycle campaign groups</h2>
						<p>Advocates for improved cycle infrastructure are key to making change happen. There are many local groups around the country.</p>
						
						<div class="filters">
							<h3>Filter:</h3>
							
							<input type="checkbox" name="national" id="groups_national" value="1" /><label for="groups_national">Include national organisations</label>
						</div>
					</div>
					
					<div id="howfar">
						<h2>How far can I cycle?</h2>
						<p>This chart shows you how far you can cycle from a point you specify.</p>
						<p>Drag the marker to set the location.</p>
						<p>Note that the supported area is currently limited to London.</p>
						
						<div class="filters">
							<h3>Journey details:</h3>
							
							<!-- Marker location -->
							<input type="hidden" name="lonlat" value="-0.13220,51.51549" />
							
							<h4>Distance(s):</h4>
							<ul class="controls">
								<!--<li><input type="checkbox" name="timeSecondsCsv[]" id="timeSecondsCsv_600" value="600" /><label for="timeSecondsCsv_600">10 minutes</label></li>-->
								<li><input type="checkbox" checked="checked" name="timeSecondsCsv[]" id="timeSecondsCsv_1200" value="1200" /><label for="timeSecondsCsv_1200">20 minutes</label></li>
								<li><input type="checkbox" name="timeSecondsCsv[]" id="timeSecondsCsv_1800" value="1800" /><label for="timeSecondsCsv_1800">30 minutes</label></li>
								<li><input type="checkbox" name="timeSecondsCsv[]" id="timeSecondsCsv_2700" value="2700" /><label for="timeSecondsCsv_1800">45 minutes</label></li>
								<li><input type="checkbox" name="timeSecondsCsv[]" id="timeSecondsCsv_3600" value="3600" /><label for="timeSecondsCsv_3600">60 minutes</label></li>
							</ul>
							
							<h4>Route type:</h4>
							<select name="plan" id="plan">
								<option value="balanced" id="plan_balanced">Balanced route</option>
								<option value="fastest" id="plan_fastest">Fastest route</option>
								<option value="quietest" id="plan_quietest">Quietest route</option>
							</select>
						</div>
					</div>
					
					<div id="footways">
						<h2>Footways London</h2>
						<p>Footways is a network of quiet and interesting streets for walking in central London.</p>
						<p>For more information, see <a href="https://footways.london/" target="_blank">footways.london</a>.</p>
					</div>
					
					<div id="modalfilters">
						<img src="https://www.cyclestreets.net/images/logo/beta.svg" width="48" height="48" style="float: right; top: 20px;" />
						<h2>Modal filters</h2>
						<p>Modal filters (or 'point closures') are measures to restrict through-traffic. These facilitate safer streets for cycling and walking, as well as improving residential amenity.</p>
						<p>You can give feedback on a location, by using the button in the popup, or right-click to add a missing location.</p>
						<div class="filters">
							<h4>Show types:</h4>
							<div class="controls">
								<select name="type" required="required">
									<option value="" selected="selected">All</option>
									<option value="bollard">Bollard</option>
									<option value="gate">Gate</option>
									<option value="gap">Gap</option>
									<option value="cyclewayfilter">Cycleway filter</option>
									<option value="busgate">Bus gate</option>
								</select>
							</div>
						</div>
						<p>Various types are shown:</p>
						<ul>
							<li>Bollards/gates within a street, that prevent through-traffic but allow walking and cycling</li>
							<li>Gaps within a street that form a short section of cycleway/walkway, similarly preventing through-traffic</li>
							<li>Streets abutting main roads but with only a cycleway/pavement between them</li>
							<li>Bus gates, which allow bus and cycle access to particular areas</li>
						</ul>
						<p>For performance reasons, a maximum of 2,000 locations are shown. Zoom in to avoid this limit being hit.</p>
						<p>The data shown here is the result of automated analysis of OpenStreetMap data, undertaken by CycleStreets.</p>
						<p>We continue to refine the analysis to remove false-positives and to add additional types.</p>
					</div>
					
					<div id="ltns">
						<h2>Low-Traffic Neighbourhoods (LTNs)</h2>
						<img src="https://www.cyclestreets.net/images/logo/beta.svg" width="48" height="48" style="float: right;" />
						<p>This experimental data shows whether each street is either:</p>
						<ul>
							<li>An LTN / no-through traffic</li>
							<li>A through-route (i.e. rat-running possible)</li>
							<li>A through-route, but with traffic calming</li>
						</ul>
						<p>We treat classified roads (i.e. C roads and bigger) as the roads which divide up areas, as those have historically been considered to intend through-driving, though there are exceptions.</p>
						<p>The data shown here is the result of automated analysis of OpenStreetMap data, undertaken by CycleStreets.</p>
						<p>This work is highly experimental at present, with known bugs. We continue to refine the analysis.</p>
					</div>
					<div id="ltnstatistics">
						<h2>Low-Traffic Neighbourhoods (LTN) statistics</h2>
						<img src="https://www.cyclestreets.net/images/logo/beta.svg" width="48" height="48" style="float: right;" />
						<p>Statistics by Highway Authority area.</p>
						<p>This work is highly experimental at present, with known bugs. We continue to refine the analysis.</p>
						<div class="filters">
							<h4>Show types:</h4>
							<div class="controls">
								<select name="type" required="required">
									<option value="wards">Wards / Electoral Divisions</option>
									<option value="districts" selected="selected">District/Unitaries*</option>
									<option value="highwayauthorities">Highway Authorities</option>
								</select>
								<br />
								<br />
								<p>* This option also includes London Boroughs and Metropolitan Districts.</p>
							</div>
						</div>
						<div class="export button">
							<p>Export: <img class="csv" src="/js/lib/Mapboxgljs.LayerViewer/images/page_excel.png" alt="Spreadsheet" /></p>
						</div>
					</div>
					
					<div id="nocontraflows">
						<h2>One-way streets without contraflows</h2>
						<img src="https://www.cyclestreets.net/images/logo/beta.svg" width="48" height="48" style="float: right;" />
						<p>This experimental data shows one-way streets that do not yet allow two-way cycling.</p>
						<p>Allowing two-way cycling on local streets is a simple way to make cycling easier, and there is little evidence of any safety issue. Have a look at <a href="#12.49/52.209/0.15577">Cambridge</a> to see how few are now left.</p>
						<p>The official government guidance is that "There should be a general presumption in favour of cycling in both directions in one way streets, unless there are safety, operational or cost reasons why it is not feasible." &ndash; <a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/951074/cycle-infrastructure-design-ltn-1-20.pdf" target="_blank">LTN 1/20</a> §6.4.21.</p>
						<p>The data shown here is the result of automated analysis of OpenStreetMap data, undertaken by CycleStreets.</p>
						<p>This work in beta at present, with known bugs. We continue to refine the analysis.</p>
					</div>
					
					<div id="tflcid2osm">
						<h2>TfL Cycling Infrastructure Database (CID) as OSM format</h2>
						
						<p>TfL's CID is a comprehensive and attribute-rich dataset of all cycle infrastructure throughout London. The data is a snapshot in time ranging between January 2017 and May 2018.</p>
						<p>This layer shows the CID data converted as an OSM-compatible dataset, matched to geometries and with properties converted.</p>
						<p>The <a href="https://github.com/cyclestreets/tflcid-conversion" target="_blank">conversion script and resulting data</a> are available on Github.</p>
						
						<div class="filters">

							<h3>Feature type:</h3>
							
							<div class="controls">
								<select name="type">
									<optgroup label="Crossings">
										<option value="crossings_junctions">crossings_junctions (264)</option>
										<option value="crossings_rail">crossings_rail (21)</option>
										<option value="crossings_tags_changed">crossings_tags_changed (296)</option>
										<option value="crossings_to_check">crossings_to_check (242)</option>
									</optgroup>
									<optgroup label="Cycle lane/track">
										<option value="clt_footways_full">clt_footways_full (180)</option>
										<option value="clt_footways_partial">clt_footways_partial (322)</option>
										<option value="clt_roads_contra">clt_roads_contra (711)</option>
										<option value="clt_roads_full">clt_roads_full (824)</option>
										<option value="clt_roads_partial">clt_roads_partial (7,973)</option>
										<option value="clt_roads_separate">clt_roads_separate (286)</option>
										<option value="clt_roads_unmatched">clt_roads_unmatched (645)</option>
										<option selected="selected" value="clt_tracks_new">clt_tracks_new (1,447)</option>
									</optgroup>
									<optgroup label="Cycle parking">
										<option value="parking_new">parking_new (18,480)</option>
									</optgroup>
									<optgroup label="Restricted route">
										<option value="restricted_routes_cycleways">restricted_routes_cycleways (220)</option>
										<option value="restricted_routes_new">restricted_routes_new (643)</option>
									</optgroup>
									<optgroup label="Traffic calming">
										<option value="barriers_cycleways">barriers_cycleways (182)</option>
										<option value="barriers_new">barriers_new (231)</option>
										<option value="barriers_to_check">barriers_to_check (43)</option>
										<option value="bumps_cycleway">bumps_cycleway (130)</option>
										<option value="bumps_road">bumps_road (45,695)</option>
										<option value="bumps_to_check">bumps_to_check (790)</option>
										<option value="chicanes_islands">chicanes_islands (37)</option>
										<option value="chicanes_new">chicanes_new (556)</option>
										<option value="chicanes_to_check">chicanes_to_check (9)</option>
										<option value="sideroads_at_junctions">sideroads_at_junctions (787)</option>
										<option value="sideroads_existing">sideroads_existing (355)</option>
										<option value="sideroads_new">sideroads_new (6,422)</option>
										<option value="sideroads_to_check">sideroads_to_check (129)</option>
										<option value="tables">tables (2,909)</option>
										<option value="tables_to_check">tables_to_check (135)</option>
									</optgroup>
								</select>
							</div>
						</div>
					</div>
					
					<div id="osm">
						<h2>OSM data</h2>
						<p>For ease of comparison with other data, this layer provides a live feed data from OpenStreetMap, limited to Ways only at present.</p>
						<p>OSM data is only shown at zoom 19 or above, to avoid load on the OSM servers. Please enable the layer and zoom in closely.</p>
						<p>Open data licensed &copy; OpenStreetMap contributors, ODbL license.</p>
					</div>
					
					<div id="cyclewayspaths">
						<h2>Cycleways and paths</h2>
						<img src="https://www.cyclestreets.net/images/logo/beta.svg" width="48" height="48" style="float: right;" />
						<p>A dataset which contains the 'cycle network' beyond the general road network.</p>
						<div class="filters">
							<h4>Show categories:</h4>
							<div class="controls">
								<select name="category">
									<option value="" selected="selected">All</option>
									<option value="onroad">Roads with cycle infrastructure</option>
									<option value="cycleways">Cycleways</option>
									<option value="unsegregated">General off-road paths</option>
									<option value="foot">General off road paths that are not cyclable</option>
								</select>
								<br />
								<p>Filter by selected category.</p>
							</div>
						</div>
						<div class="export button">
							<p>Export: <img class="csv" src="/js/lib/Mapboxgljs.LayerViewer/images/page_excel.png" alt="Spreadsheet" /></p>
						</div>

					</div>


				</div>
			</nav>
			
			<div id="geocoder" class="geocoder">
				<input type="text" name="location" autocomplete="off" placeholder="Search locations and move map" tabindex="1" spellcheck="false" />
			</div>
			
			<div id="map" class="map">
			</div>
			
		</form>
		
	</main>
	
	<footer>
		<p>Created by <a href="https://www.cyclestreets.org/">CycleStreets</a> &nbsp;||&nbsp; <a class="embed" href="#">Embed this map</a> &nbsp;||&nbsp; <a href="https://www.cyclestreets.org/donate/">Donate &#9825;</a> &nbsp;||&nbsp; <a class="feedback" href="https://www.cyclestreets.net/feedback/">Feedback</a> &nbsp;||&nbsp; Thanks to funder <a href="https://outlandish.com/">Outlandish</a> &nbsp;||&nbsp; Uses <a href="https://www.cyclestreets.net/api/">CycleStreets API</a> and other APIs &nbsp;||&nbsp; An open source project - <a href="https://www.github.com/cyclestreets/bikedata/">contribute on Github</a></p>
	</footer>
	
	
	<!-- In-popup feedback contents -->
	<div id="popupfeedbackmodalfilters" class="popupfeedback">
		<h2>Give feedback on this location</h2>
		<p>Please let us know if this location has been incorrectly determined as a modal filter:</p>
		<form method="post" action="{%apiBaseUrl}/v2/advocacydata.modalfilters.feedback?key={%apiKey}">
			<p><label>Comment:<br /><textarea name="notes" rows="5" required="required"></textarea></label></p>
			<p><label>E-mail (used only if we need to clarify something):<br /><input type="email" name="email" required="required" /></label></p>
			<p><input type="hidden" name="modification" value="remove" />
			<p><input type="hidden" name="osmid" data-value="properties.osmId" />
			<p><input type="hidden" name="modalfilter" data-value="properties.modalfilter" />
			<p><input type="hidden" name="longitude" data-value="geometry.coordinates.0" />
			<p><input type="hidden" name="latitude" data-value="geometry.coordinates.1" />
			<p><input type="submit" /></p>
		</form>
	</div>
	
	<!-- Location-specification feedback contents -->
	<div id="locatefeedbackmodalfilters" class="locatefeedback">
		<h2>Missing modal filter</h2>
		<p>Please let us know if this location is a modal filter but has been missed out in our analysis:</p>
		<form method="post" action="{%apiBaseUrl}/v2/advocacydata.modalfilters.feedback?key={%apiKey}">
			<p>
				<label>What type of modal filter is missing here?:<br />
				<select name="modalfilter" required="required">
					<option value=""></option>
					<option value="bollard">Bollard</option>
					<option value="gate">Gate</option>
					<option value="gap">Gap</option>
					<option value="cycleway filter">Cycleway filter</option>
					<option value="bus gate">Bus gate</option>
				</select>
				</label>
			</p>
			<p><label>Comment:<br /><textarea name="notes" rows="5" required="required"></textarea></label></p>
			<p><label>E-mail (used only if we need to clarify something):<br /><input type="email" name="email" required="required" /></label></p>
			<p><input type="hidden" name="modification" value="add" />
			<p><input type="hidden" name="longitude" />
			<p><input type="hidden" name="latitude" />
			<p><input type="submit" /></p>
		</form>
	</div>
	
	
	<!-- General feedback form -->
	<div id="feedback">
		
		<h2>Give feedback</h2>
		<form method="post" id="feedbackform" name="feedbackform" action="https://www.cyclestreets.net/feedback/" enctype="application/x-www-form-urlencoded" accept-charset="UTF-8">
			<table>
				<tr>
					<td colspan="2">
						<p>We welcome your feedback!</p>
					</td>
				</tr>
				<tr>
					<td>Comments:</td>
					<td><textarea name="comments" cols="60" rows="5" required="required"></textarea></td>
				</tr>
				<tr>
					<td>Your name:</td>
					<td><input type="text" name="name" size="40" maxlength="255" required="required" /></td>
				</tr>
				<tr>
					<td>E-mail:</td>
					<td><input type="email" name="email" size="40" maxlength="255" required="required" /></td>
				</tr>
				<tr>
					<td></td>
					<td><input type="submit" value="Submit!" class="button" /></td>
				</tr>
			</table>
			<input type="hidden" name="type" value="other" />
		</form>
		
	</div>
	
</body>

</html>

